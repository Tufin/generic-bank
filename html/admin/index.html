<html>

<head>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="stylesheet" type="text/css" href="clock.css">
    <script type="text/javascript" src="clock.js"></script>

    <style>
        html, body {
            height: 100%;
        }

        html {
            display: table;
            margin: auto;
        }

        body {
            display: table-cell;
            vertical-align: middle;
        }
    </style>
</head>

<body style="background-image:url(./images/boa.png);background-repeat: no-repeat;background-position: right top;">

<H1>Welcome to Bank of America Admin Portal</H1>

<br/>
<a href="./accounts">Click here to view bank accounts</a>
<br/><br/><br/><br/>

<div>
    <div class="img-with-text"><canvas id="clock-london" width="150" height="150" style="background-color:white"></canvas><p>London</p></div>
    <div class="img-with-text"><canvas id="clock-nyc" width="150" height="150" style="background-color:white"></canvas><p>New York</p></div>
    <div class="img-with-text"><canvas id="clock-tokyo" width="150" height="150" style="background-color:white"></canvas><p>Tokyo</p></div>
</div>

<script>

    function getAjax(url, success) {
        var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
        xhr.open('GET', url);
        xhr.onreadystatechange = function() {
            if (xhr.readyState>3 && xhr.status==200) success(xhr.responseText);
        };
        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        xhr.send();
        return xhr;
    }

    getAjax('/time?zone=Europe/London', function(time) { initClock('clock-london', time) } );
    getAjax('/time?zone=America/New_York', function(time) { initClock('clock-nyc', time) } );
    getAjax('/time?zone=Asia/Tokyo', function(time) { initClock('clock-tokyo', time) } );

</script>

</body>
</html>
